Info3: <<
Package: librasterlite2
Version: 1.1g
Revision: 3
Description: RasterLite extension to SQLite
License: GPL
Homepage: 
Maintainer: BABA Yoshihiko <babayoshihiko@mac.com>
DescDetail: 

Depends: %n-shlibs (= %v-%r)
BuildDepends: <<
  fink (>= 0.28),
  fink-package-precedence,
  libgeotiff2,
  libjpeg9,
  libpng16,
  libproj9,
  libspatialite7,
  libtiff5,
  pkgconfig,
  sqlite3
<<
BuildDependsOnly: True


# Unpack Phase.
Source: http://www.gaia-gis.it/gaia-sins/librasterlite-sources/librasterlite-%v.tar.gz
Source-MD5: 6c6e8f83ac8a06c78f3fdcee63dc5e3e

# Don't rely on inheriting dependencies' .pc flags for what is directly
# required.
# Link against dynamic lib if available and inherit linker flags
PatchFile: %n.patch
PatchFile-MD5: 5df5a3c04ae17ef7e79a3fa53d6ace26
PatchScript: <<
  %{default_script}
  perl -pi -e 's/\.libs\/librasterlite\.a/librasterlite.la/g' src/Makefile.in
<<

SetCPPFLAGS: -Os
ConfigureParams: --disable-static


CompileScript: <<
#!/bin/sh -xe
  # Set up RasterLite Libraries
  ./configure %c
  make
  fink-package-precedence --prohibit-bdep=%n .
<<

# Install Phase.
InstallScript: <<
#!/bin/sh -xe
  # Install RasterLite Libraries
  make install prefix=%i
  # install_name_tool -id "%p/lib/librasterlite.2.dylib" %i/lib/librasterlite.2.dylib
<<
# Shlibs: <<
#  !%p/lib/librasterlite.2.dylib
# <<
DocFiles: AUTHORS COPYING INSTALL README



SplitOff: <<
  Package: %N-shlibs
  Description: Shared libraries for %N package
  Depends: <<
    libgeotiff2-shlibs,
    libjpeg9-shlibs,
    libpng16-shlibs,
    libproj9-shlibs,
    libspatialite7-shlibs,
    libtiff5-shlibs,
    sqlite3-shlibs
  <<
  Files: <<
    lib/librasterlite.2.dylib
  <<
  Shlibs: <<
    %p/lib/librasterlite.2.dylib  3.0.0 %n (>= 1.1g-1)
  <<
DocFiles: AUTHORS COPYING INSTALL README
# End of SplitOff
<<



SplitOff2: <<
  Package: %N-bin
  Description: Executables for %N package
  Depends: <<
    %N-shlibs (>= %v-%r),
    libgeotiff2-shlibs,
    libjpeg9-shlibs,
    libpng16-shlibs,
    libproj9-shlibs,
    libspatialite7-shlibs,
    libtiff5-shlibs,
    sqlite3-shlibs
  <<
  Files: <<
    bin
  <<
DocFiles: AUTHORS COPYING INSTALL README
# End of SplitOff
<<





# End of Info3
<<
